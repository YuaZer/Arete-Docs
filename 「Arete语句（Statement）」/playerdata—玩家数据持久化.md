# ğŸ—‚ï¸ playerdata â€” ç©å®¶æ•°æ®æŒä¹…åŒ–

åœ¨æœåŠ¡å™¨è¿è¡ŒæœŸé—´ä¸ºç©å®¶ç»´æŠ¤ä¸€ä»½å¯å†™å…¥çš„æŒä¹…åŒ–æ•°æ®ï¼ˆå…³é—­å‰ä¿ç•™ï¼Œç”± `PlayerDataStore` æ‰˜ç®¡ï¼‰ã€‚æ”¯æŒè®¾ç½®/è¯»å–/åˆ é™¤/åˆ¤æ–­å­˜åœ¨æ€§ï¼Œä»¥åŠæ•°å€¼è‡ªå¢è‡ªå‡ã€å­—ç¬¦ä¸²åˆ—è¡¨è¿½åŠ ï¼Œå¹¶å¯æŠŠç»“æœå†™å…¥ä¸Šä¸‹æ–‡å˜é‡ä¾›åç»­è¯­å¥ä½¿ç”¨ã€‚

---

## å‚æ•°ä¸€è§ˆ

| å‚æ•°å      | ç±»å‹     | å¿…å¡« | é»˜è®¤å€¼     | è¯´æ˜                                                         |
|----------|--------|----|---------|------------------------------------------------------------|
| `op`     | String | å¦  | `get`   | æ“ä½œç±»å‹ï¼š`set` / `get` / `remove                               |del|delete` / `has|exists` / `inc` / `dec` / `add` |
| `player` | String | å¦  | `@self` | ç›®æ ‡ç©å®¶è§£æï¼š`@self` / `@target` / ä¹Ÿå¯ç›´æ¥å†™ç©å®¶å                      |
| `key`    | String | å¦  | â€”       | æ•°æ®é”®åã€‚é™¤æå°‘æ•°åœºæ™¯å¤–åº”æä¾›ï¼›ä¸ºç©ºå°†è·³è¿‡å¹¶è®°å½•å‘Šè­¦                                 |
| `value`  | String | å¦  | â€”       | å†™å…¥/è¿ç®—å€¼ï¼š`set`/`inc`/`dec`/`add` éœ€è¦ï¼›`get`/`has`/`remove` ä¸éœ€è¦ |
| `to`     | String | å¦  | â€”       | å°†ç»“æœå†™å…¥å˜é‡åï¼š`get` å†™å…¥å–åˆ°çš„å€¼ï¼›`has` å†™å…¥å¸ƒå°”ï¼›`inc/dec` å†™å…¥æ–°æ•°å€¼           |

> `value` ä¼šè‡ªåŠ¨ç±»å‹æ¨æ–­ï¼šä¼˜å…ˆå°è¯• `Int`/`Double`ï¼Œå…¶å `true/false` å¸ƒå°”ï¼Œæœ€åæŒ‰åŸå­—ç¬¦ä¸²å­˜å‚¨ã€‚

---

## å¿«é€Ÿç¤ºä¾‹

```plain
# è®¾ç½®ï¼šè®°ä¸‹ç©å®¶é¦–æ¬¡è¿›å…¥æ—¶é—´æˆ³
playerdata { op = "set" key = "firstJoinTs" value = "${nowMillis}" }

# è¯»å–ï¼šæ”¾å…¥å˜é‡å¹¶æç¤º
playerdata { op = "get" key = "firstJoinTs" to = "ts" }
message { text = "&7ä½ çš„é¦–æ¬¡è¿›å…¥æ—¶é—´æˆ³: ${ts}" }
```

---

## ç”¨æ³•è¯¦è§£

### 1) set â€” å†™å…¥/è¦†ç›–å€¼
```plain
playerdata { op = "set" key = "title" value = "Brave" }
```

### 2) get â€” è¯»å–å€¼å¹¶å¯å†™å…¥å˜é‡
```plain
playerdata { op = "get" key = "title" to = "pTitle" }
message { text = "&7ç§°å·: ${pTitle}" }
```

### 3) remove/del/delete â€” åˆ é™¤é”®
```plain
playerdata { op = "remove" key = "title" }
```

### 4) has/exists â€” åˆ¤æ–­æ˜¯å¦å­˜åœ¨å¹¶å†™å…¥å¸ƒå°”
```plain
playerdata { op = "has" key = "title" to = "hasTitle" }
ifchain {
  case ${hasTitle} { message { text = "&aå·²æ‹¥æœ‰ç§°å·" } }
  else { message { text = "&cå°šæœªæ‹¥æœ‰ç§°å·" } }
}
```

### 5) inc/dec â€” æ•°å€¼è‡ªå¢/è‡ªå‡ï¼ˆé»˜è®¤æ­¥é•¿ 1ï¼‰
```plain
# å‡»æ€è®¡æ•° +1
playerdata { op = "inc" key = "kills" }

# ç»éªŒ -5ï¼ˆå†™å…¥æ–°å€¼åˆ°å˜é‡ï¼‰
playerdata { op = "dec" key = "exp" value = "5" to = "newExp" }
message { text = "&7å½“å‰ç»éªŒ: ${newExp}" }
```

### 6) add â€” è¿½åŠ åˆ°å­—ç¬¦ä¸²åˆ—è¡¨
```plain
# å¾€èƒŒåŒ…è®°å½•æ¸…å•é‡Œè¿½åŠ æ¡ç›®ï¼›åŸå€¼è‹¥éåˆ—è¡¨ä¼šè¢«è½¬ä¸ºå•å…ƒç´ åå†è¿½åŠ 
playerdata { op = "add" key = "bagItems" value = "iron_ingot" }
```

### 7) æŒ‡å®šç›®æ ‡ç©å®¶
```plain
playerdata { op = "set" player = "@target" key = "assist" value = "1" }
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

- æœªèƒ½è§£æåˆ°ç©å®¶ï¼ˆæ—¢é `@self`/`@target` ç©å®¶ï¼Œä¹Ÿéæœ‰æ•ˆåå­—ï¼‰å°†è·³è¿‡æ‰§è¡Œå¹¶è¾“å‡ºå‘Šè­¦ã€‚
- `key` ä¸ºç©ºä¼šè·³è¿‡å¹¶è¾“å‡ºå‘Šè­¦ï¼›è¯·ç¡®ä¿é”®åæœ‰æ•ˆã€‚
- `get` æ‰¾ä¸åˆ°é”®æ—¶ä¼šå¾—åˆ° `null`ï¼›è‹¥å†™å…¥å˜é‡ï¼Œå˜é‡å€¼å°†ä¸º `null`ã€‚
- `inc/dec` åœ¨åŸå€¼ä¸å¯è§£æä¸ºæ•°å€¼æ—¶ï¼ŒæŒ‰ `0.0` èµ·æ­¥è¿›è¡Œè¿ç®—ï¼Œç»“æœä»¥æ•°å€¼å½¢å¼å­˜å‚¨ã€‚
- `add` ä¼šå°†éåˆ—è¡¨æ—§å€¼è½¬æ¢ä¸ºå•å…ƒç´ åˆ—è¡¨å†è¿½åŠ ï¼›åˆ—è¡¨ä»…å­˜å‚¨å­—ç¬¦ä¸²ã€‚
- æ•°æ®ç”± `PlayerDataStore` ç®¡ç†ï¼Œç”Ÿå‘½å‘¨æœŸè¦†ç›–æœåŠ¡å™¨è¿è¡ŒæœŸï¼ˆå…³é—­å‰æŒä¹…åŒ–ï¼‰ã€‚

---

## ğŸ”— ç›¸å…³è¯­å¥

- [var - å˜é‡å®šä¹‰](varâ€”å®šä¹‰_è¦†ç›–ä¸Šä¸‹æ–‡å˜é‡.md)
- [âš–ï¸ ifchain - å¤šåˆ†æ”¯æ¡ä»¶](ifchainâ€”å¤šåˆ†æ”¯æ¡ä»¶æ‰§è¡Œ_caseâ€¦elseé“¾.md)
- [ï¸message - å‘é€æ¶ˆæ¯](ï¸messageâ€”å‘é€æ¶ˆæ¯è¯­å¥.md)

---

<div style="text-align: center; padding: 20px 0; color: #999; font-size: 12px; border-top: 1px solid #eee; margin-top: 50px;">
  <p>ğŸ“ æ›´æ–°æ—¶é—´: 2025-10-30 12:20:00</p>
</div>


