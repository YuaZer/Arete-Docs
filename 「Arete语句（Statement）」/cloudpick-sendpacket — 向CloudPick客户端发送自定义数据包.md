# âœ‰ï¸ cloudpick-sendpacket â€” å‘é€ CloudPick è‡ªå®šä¹‰æ•°æ®åŒ…

é€šè¿‡ CloudPick çš„ç½‘ç»œå±‚å‘å®¢æˆ·ç«¯å‘é€ä¸€æ¡**è‡ªå®šä¹‰æ•°æ®åŒ…**ï¼Œå¯æºå¸¦ä»»æ„é¡ºåºå‚æ•°ã€‚  
è¯­æ³•ä¸ `arcartx-sendpacket` åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯åº•å±‚è°ƒç”¨æ”¹ä¸º `PacketSender.sendCustomData(...)`ã€‚

---

## âš™ï¸ å‚æ•°åˆ—è¡¨

| å‚æ•°å             | ç±»å‹     | å¿…å¡« | é»˜è®¤å€¼     | è¯´æ˜                                                        |
|-----------------|--------|----|---------|-----------------------------------------------------------|
| `id` / `packet` | String | âœ…  | â€”       | è¦å‘é€çš„æ•°æ®åŒ… IDï¼ˆå®¢æˆ·ç«¯ç›‘å¬çš„åŒ…åï¼‰                                      |
| `target`        | String | å¦  | `@self` | ç›®æ ‡æ¨¡å¼ï¼š`@self` / `self` / `source`ï¼ˆä¿ç•™ï¼‰ï¼Œå½“æœªæŒ‡å®š `targetVar` æ—¶ç”Ÿæ•ˆ |
| `targetVar`     | String | å¦  | â€”       | ä»å˜é‡æ± ä¸­è¯»å–ç›®æ ‡ç©å®¶ï¼Œå¯ä¸º `Player` æˆ– `Collection<Player>`ï¼Œ**ä¼˜å…ˆçº§æœ€é«˜**  |
| å…¶ä»–ä»»æ„é”®           | String | å¦  | â€”       | æ‰€æœ‰éä¿ç•™é”®éƒ½ä¼šä½œä¸º payload å‚æ•°ï¼Œ**æŒ‰ä¹¦å†™é¡ºåºå‘é€**ï¼Œæ”¯æŒ `${å˜é‡}` æ’å€¼           |

ä¿ç•™é”®ï¼ˆä¸ä¼šè¿›å…¥ payloadï¼‰ï¼š`id`ã€`packet`ã€`target`ã€`targetVar`

---

## âš¡ å¿«é€Ÿç¤ºä¾‹

### â‘  å‘è‡ªèº«å‘é€ä¸€ä¸ª UI æ‰“å¼€æŒ‡ä»¤åŒ…

```plain
cloudpick-sendpacket {
  id = "ui_open_bag"
  tab = "pokemon"
  page = "1"
}
```

å®¢æˆ·ç«¯ä¼šæ”¶åˆ°ï¼š

```text
("ui_open_bag", ["pokemon", "1"])
```

---

### â‘¡ ä»å˜é‡ä¸­è¯»å–ç›®æ ‡ç©å®¶

```plain
selectPlayer { name = "Yuazer" store = "p" }
cloudpick-sendpacket {
  id = "notify"
  targetVar = "p"
  title = "ä½ æœ‰æ–°çš„ä»»åŠ¡"
  content = "è¯·å‰å¾€ä¸»åŸæ‰¾NPC"
}
```

å½“ `targetVar` å­˜åœ¨æ—¶ï¼Œ`target` ä¼šè¢«å¿½ç•¥ã€‚

---

### â‘¢ æºå¸¦ä½ç½®ä¿¡æ¯çš„åŒ…

```plain
storeLocation { at = "@self" store = "aimPosStr" }
cloudpick-sendpacket {
  id = "spawn_indicator"
  target = "self"
  pos = "${aimPosStr}"
  color = "green"
}
```

> åœ¨æœåŠ¡ç«¯æ‰§è¡Œæ—¶ï¼Œ`${aimPosStr}` ä¼šè¢«æ›¿æ¢ä¸ºå˜é‡æ± ä¸­çš„çœŸå®å€¼ã€‚

---

## ğŸ§  æœºåˆ¶è¯´æ˜

1. **ç›®æ ‡è§£æé¡ºåº**  
   1) å¦‚æœæœ‰ `targetVar` â†’ ä»å˜é‡æ± ä¸­å–ç©å®¶ / ç©å®¶é›†åˆ  
   2) å¦åˆ™å¦‚æœæ‰§è¡Œè€…æ˜¯ Player â†’ ç»™æ‰§è¡Œè€…è‡ªå·±  
   3) å¦åˆ™ä¸å‘é€

2. **å‚æ•°é¡ºåº**  
   - å‚æ•°æŒ‰ç…§ä½ åœ¨ DSL ä¸­çš„**ä¹¦å†™é¡ºåº**åŠ å…¥æ•°æ®åŒ…
   - å¦‚æœè¿è¡Œç¯å¢ƒä¸æ”¯æŒæœ‰åº entriesï¼Œåˆ™ä¼šå…œåº•è¯»å– `data0` ~ `data50`

3. **å˜é‡æ’å€¼**  
   - æ‰€æœ‰å‚æ•°éƒ½æ”¯æŒ `${å˜é‡å}` çš„å ä½æ›¿æ¢  
   - æ›¿æ¢æ¥æºæ˜¯ `ctx.vars[...]`

---

## ğŸ§© å¯¹åº”æœåŠ¡ç«¯è°ƒç”¨

è¯­å¥å†…éƒ¨æœ€ç»ˆä¼šè°ƒç”¨ï¼š

```kotlin
PacketSender.sendCustomData(player, packetId, *finalData)
```

---


> æ›´æ–°: 2025-11-01 02:37:55  
> åŸæ–‡: <https://www.yuque.com/yuazer/blow95/cloudpick-sendpacket>
